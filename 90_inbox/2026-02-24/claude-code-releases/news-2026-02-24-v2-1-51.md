# news-2026-02-24-v2-1-51

Automation: NewsIngest/v1
SourceID: claude-code-releases
SourceURL: https://github.com/anthropics/claude-code/releases/tag/v2.1.51
IngestedAt: 2026-02-24
Status: Untriaged
Submitted date: 2026-02-24
Submitter: @news-bot
Proposed destination: 09_resources/news/
Sensitivity notes: Public source material only

Date Captured: 2026-02-24
Event Date: 2026-02-24
Publish Date: 2026-02-24
Source: Claude Code Releases
URL: https://github.com/anthropics/claude-code/releases/tag/v2.1.51
Type: News
Confidence: High
Validation Status: valid

## Summary
<h2>What's changed</h2>
<ul>
<li>Added <code>claude remote-control</code> subcommand for external builds, enabling local environment serving for all users.</li>
<li>Updated plugin marketplace default git timeout from 30s to 120s and added <code>CLAUDE_CODE_PLUGIN_GIT_TIMEOUT_MS</code> to configure.</li>
<li>Added support for custom npm registries and specific version pinning when installing plugins from npm sources</li>
<li>BashTool now skips login shell (<code>-l</code> flag) by default when a shell snapshot is available, improving command execution performance. Previously this required setting <code>CLAUDE_BASH_NO_LOGIN=true</code>.</li>
<li>Fixed a security issue where <code>statusLine</code> and <code>fileSuggestion</code> hook commands could execute without workspace trust acceptance in interactive mode.</li>
<li>Tool results larger than 50K characters are now persisted to disk (previously 100K). This reduces context window usage and improves conversation longevity.</li>
<li>Fixed a security issue where HTTP hooks could interpolate arbitrary environment variables from header values. Env var interpolation now requires an explicit <code>allowedEnvVars</code> list in the hook configuration.</li>
<li>Fixed a bug where duplicate <code>control_response</code> messages (e.g. from WebSocket reconnects) could cause API 400 errors by pushing duplicate assistant messages into the conversation.</li>
<li>Added <code>CLAUDE_CODE_ACCOUNT_UUID</code>, <code>CLAUDE_CODE_USER_EMAIL</code>, and <code>CLAUDE_CODE_ORGANIZATION_UUID</code> environment variables for SDK callers to provide account info synchronously, eliminating a race condition where early telemetry events lacked account metadata.</li>
<li>Fixed slash command autocomplete crashing when a plugin's SKILL.md description is a YAML array or other non-string type</li>
<li>HTTP hooks are now routed through the sandbox network proxy when sandboxing is enabled, enforcing the domain allowlist. HTTP hooks are not supported for SessionStart/Setup events.</li>
<li>The <code>/model</code> picker now shows human-readable labels (e.g., "Sonnet 4.5") instead of raw model IDs for pinned model versions, with an upgrade hint when a newer version is available.</li>
</ul>

## Why It Matters
Source signal: <h2>What's changed</h2>
<ul>
<li>Added <code>claude remote-control</code> subcommand for external builds, enabling local environment serving for all users.</li>
<li>Updated plugin marketplace default git timeout from 30s to 120s and added <code>CLAUDE_CODE_PLUGIN_GIT_TIMEOUT_MS</code> to configure.</li>
<li>Added support for custom npm registries and specific version pinning when installing plugins from npm sources</li>
<li>BashTool now skips login shell (<code>-l</code> flag) by default when a shell snapshot is available, improving command execution performance. Previously this required setting <code>CLAUDE_BASH_NO_LOGIN=true</code>.</li>
<li>Fixed a security issue where <code>statusLine</code> and <code>fileSuggestion</code> hook commands could execute without workspace trust acceptance in interactive mode.</li>
<li>Tool results larger than 50K characters are now persisted to disk (previously 100K). This reduces context window usage and improves conversation longevity.</li>
<li>Fixed a security issue where HTTP hooks could interpolate arbitrary environment variables from header values. Env var interpolation now requires an explicit <code>allowedEnvVars</code> list in the hook configuration.</li>
<li>Fixed a bug where duplicate <code>control_response</code> messages (e.g. from WebSocket reconnects) could cause API 400 errors by pushing duplicate assistant messages into the conversation.</li>
<li>Added <code>CLAUDE_CODE_ACCOUNT_UUID</code>, <code>CLAUDE_CODE_USER_EMAIL</code>, and <code>CLAUDE_CODE_ORGANIZATION_UUID</code> environment variables for SDK callers to provide account info synchronously, eliminating a race condition where early telemetry events lacked account metadata.</li>
<li>Fixed slash command autocomplete crashing when a plugin's SKILL.md description is a YAML array or other non-string type</li>
<li>HTTP hooks are now routed through the sandbox network proxy when sandboxing is enabled, enforcing the domain allowlist. HTTP hooks are not supported for SessionStart/Setup events.</li>
<li>The <code>/model</code> picker now shows human-readable labels (e.g., "Sonnet 4.5") instead of raw model IDs for pinned model versions, with an upgrade hint when a newer version is available.</li>
</ul>
Implication: Potentially relevant for our LLM/Agent roadmap, and should be triaged for question/eval updates.

## Evidence/Quotes (short)
- Source URL only. Add short excerpts during triage if needed.

## Relevance to NPY
TBD

## Suggested Action
- Triage into 09_resources/news/
- Add question: 01_questions/...
- Add experiment: 03_experiments/...
